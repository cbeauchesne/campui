<div>
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h3>{{getLabel()}}</h3>
                    <div ng-if="data" ibox-tools></div>
                </div>
                <div class="ibox-content ">
                    <div class="row">
                        <div class="form-group col-md-2">
                            <input type="text"
                                   ng-model="qe.currentQuery.name"
                                   class="form-control input-sm"
                                   uib-tooltip="{{'Give a name to this filter' | translate }}"
                                   placeholder="Name"/>
                        </div>
                        <div class="form-group  col-md-1">
                            <input type="text"
                                   ng-model="qe.currentQuery.url"
                                   class="form-control input-sm"
                                   ng-keypress="qe.setQuery(qe.currentQuery)"
                                   uib-tooltip="{{'Raw CampToCamp URL (right part, after #)' | translate }}"
                                   placeholder="URL"/>


                        </div>
                        <div class="  col-md-3">
                            <div class="form-group"
                                 uib-tooltip="{{ 'Activities'| translate }}">
                                <ui-select multiple
                                           class="form-control"
                                           close-on-select="false"
                                           ng-model="qe.queryModel.act">
                                    <ui-select-match placeholder="{{'Activities' | translate}}">
                                        <img ng-src="/static/img/{{$item}}-16x16.png">
                                    </ui-select-match>
                                    <ui-select-choices
                                            repeat="act in qe.metadata.activities">
                                        <span value="act">{{act}}</span>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </div>

                        <div class="form-group  col-md-2">
                            <button class="btn btn-sm btn-primary"
                                    uib-tooltip="{{ 'Apply'| translate }}"
                                    ng-click="qe.apply()">
                                <i class="fa fa-filter"></i>
                            </button>
                            <button class="btn btn-sm btn-success"
                                    uib-tooltip="{{ 'Save'| translate }}"
                                    ng-click="qe.save()">
                                <i class="fa fa-save"></i>
                            </button>
                            <button class="btn btn-sm btn-success"
                                    uib-tooltip="{{ 'Clone'| translate }}"
                                    ng-click="qe.clone()">
                                <i class="fa fa-copy"></i>
                            </button>
                            <button class="btn btn-sm btn-danger"
                                    uib-tooltip="{{ 'Delete'| translate }}"
                                    ng-click="qe.delete()">
                                <i class="fa fa-trash"></i>
                            </button>

                        </div>
                    </div>
                </div>

                <div class="ibox-content">
                    <!--
                    <query-editor></query-editor>
                    <div class="hr-line-dashed"></div>-->
                    <loading-info></loading-info>

                    <div ng-if="data" ui-grid="{data:data.documents, columnDefs:columnDefs}"
                         style="height: 500px;">

                    </div>
                </div>

                <div class="ibox-footer">
                    <div markdown>


                        ## *Notes*

                        * *Sort buttons on table sorts only loaded data.*
                        * *Hold SHIFT key and clic to sort on several columns*
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
