<!--
* INSPINIA - Responsive Admin Theme
* Version 2.0
*
-->

<!DOCTYPE html>
<html ng-app="campui">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <base href="/">

    <!-- Page title set in pageTitle directive -->
    <title page-title></title>
    <link rel="shortcut icon" href="static/favicon.png"/>

    <!-- Font awesome -->
    <link href="static/font-awesome/css/font-awesome.css" rel="stylesheet">

    <!-- Bootstrap and Fonts -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">

    <!-- codemirror -->
    <link href="static/css/plugins/codemirror/codemirror.css" rel="stylesheet">
    <link href="static/css/plugins/codemirror/ambiance.css" rel="stylesheet">

    <!-- Main Inspinia CSS files -->
    <link href="static/css/animate.css" rel="stylesheet">
    <link id="loadBefore" href="static/css/style.css" rel="stylesheet">

    <!-- ui-grid CSS files -->
    <link rel="stylesheet" type="text/css"
          href="https://cdn.rawgit.com/angular-ui/bower-ui-grid/master/ui-grid.min.css">

    <link href="static/css/campui.css" rel="stylesheet">


</head>

<!-- ControllerAs syntax -->
<!-- Main controller with serveral data used in Inspinia theme on diferent view -->
<body class="top-navigation">

<div id="wrapper">
    <div id="page-wrapper" class="gray-bg">

        <div ng-include="'static/views/common/navbar.html'"></div>

        <div class="wrapper wrapper-content">
            <div class="container" ui-view></div>
        </div>

        <div ng-include="'static/views/common/footer.html'"></div>

    </div> <!-- End page wrapper-->
</div> <!-- End wrapper-->


<!-- jQuery and Bootstrap -->
<script src="static/js/jquery/jquery-3.1.1.min.js"></script>
<script src="static/js/plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="static/js/bootstrap/bootstrap.min.js"></script>

<!-- MetsiMenu -->
<script src="static/js/plugins/metisMenu/jquery.metisMenu.js"></script>

<!-- SlimScroll -->
<script src="static/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Pace JS -->
<script src="static/js/plugins/pace/pace.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="static/js/inspinia.js"></script>

<!-- Main Angular scripts-->
<script src="static/js/angular/angular.js"></script>
<script src="static/js/angular/angular-cookies.js"></script>
<script src="static/js/angular/angular-resource.min.js"></script>
<script src="static/js/angular/angular-filter.min.js"></script>
<script src="static/js/plugins/oclazyload/dist/ocLazyLoad.js"></script>
<script src="static/js/ui-router/angular-ui-router.js"></script>
<script src="static/js/bootstrap/ui-bootstrap-tpls-1.1.2.min.js"></script>

<!-- ui-grid scripts-->
<script src="https://cdn.rawgit.com/angular-ui/bower-ui-grid/master/ui-grid.js"></script>

<!-- Anglar App Script -->
<script src="static/js/app.js"></script>
<script src="static/js/config.js"></script>
<script src="static/js/directives.js"></script>


<!-- CodeMirror -->
<script src="static/js/plugins/ui-codemirror.js "></script>
<script src="static/js/plugins/codemirror/codemirror.js"></script>
<script src="static/js/plugins/codemirror/mode/javascript/javascript.js"></script>


<script>


angular.module('campui')
    .service('authState', function (api) {
        anonymousUser = {
            username:undefined,
            profile:{
                outing_queries:{
                    skitouring : {act : "skitouring"},
                    snow_ice_mixed : {act : "snow_ice_mixed"},
                    mountain_climbing : {act : "mountain_climbing"},
                    rock_climbing : {act : "rock_climbing"},
                    ice_climbing : {act : "ice_climbing"},
                    hiking : {act : "hiking"},
                    snowshoeing : {act : "snowshoeing"},
                    paragliding : {act : "paragliding"},
                    mountain_biking : {act : "mountain_biking"},
                    via_ferrata : {act : "via_ferrata"},
                },
                image_queries : {
                    skitouring : {act : "skitouring"},
                    snow_ice_mixed : {act : "snow_ice_mixed"},
                    mountain_climbing : {act : "mountain_climbing"},
                    rock_climbing : {act : "rock_climbing"},
                    ice_climbing : {act : "ice_climbing"},
                    hiking : {act : "hiking"},
                    snowshoeing : {act : "snowshoeing"},
                    paragliding : {act : "paragliding"},
                    mountain_biking : {act : "mountain_biking"},
                    via_ferrata : {act : "via_ferrata"},
                },
                xreport_queries : {},
                route_queries : {},
            }
        };

        return {
            anonymousUser:anonymousUser,
{% if user.is_authenticated %}
            user:{
                username:"{{user.username}}",
                profile:{
                    c2c_id:{{user.profile.c2c_id}},
                    outing_queries:{% autoescape off %}{{user.profile.outing_queries}}{% endautoescape %},
                    image_queries:{% autoescape off %}{{user.profile.image_queries}}{% endautoescape %},
                    route_queries:{% autoescape off %}{{user.profile.route_queries}}{% endautoescape %},
                    xreport_queries:{% autoescape off %}{{user.profile.xreport_queries}}{% endautoescape %},
                }
            }

{% else %}
            user:anonymousUser,
{% endif %}
        };
    })

</script>


<script src="static/js/controllers.js"></script>

</body>
</html>
